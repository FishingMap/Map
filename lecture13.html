<!DOCTYPE html>
   <html lang="en">
      <head>
         <meta charset="utf-8">
         <title>D3 Test</title>
		 <!--
         <script type="text/javascript" src="d3/d3.min.js"></script>
 -->
		  
		  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		 <style type="text/css">

      div.bar {
         display: inline-block;
         width: 20px;
         height: 75px;   /* この数値は実行時に上書きされます */
         background-color: teal;
      }

   </style>
		 <!--
		 <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		 -->
      </head>
		<body>
		<script type="text/javascript">
			//データセットと各種変数
			var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
                          11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
			var w = 500;
			var h = 100;
			 var barPadding = 1;

			// SVG 要素を生成
			var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);
			
			//棒グラフを描く
			svg.selectAll("rect")
			.data(dataset)
		   .enter()
		   .append("rect")
		   .attr("x", function(d, i) {
			return i * (w / dataset.length);  // 幅 20、間隔が 1 の棒
			})
		   .attr("y", function(d) {
			return h - (d *4) ;  // SVG の高さからデータの値を引く
			})
		   .attr("width", 20)
		   .attr("height", function(d) {
		   return d * 4;  // データの値そのもの
			})
		   .attr("fill", function(d) {
			return "rgb(0, 0, " + (d * 10) + ")";
});


		svg.selectAll("text")
		   .data(dataset)
		   .enter()
		   .append("text")
			 .text(function(d) {
			   return d;
		   })
			.attr("x", function(d, i) {
			   return i * (w / dataset.length) +5;
		   })
			.attr("y", function(d) {
		   return h - (d * 4) + 15;
		   })
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "11px")
			.attr("fill", "white");
			d3.select("body").append("p").text("環境4年 金子 玄史");
         </script>
      </body>
</html>